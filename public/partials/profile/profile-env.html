<div class="page-header clearfix">
    <button class="btn btn-primary pull-right" ui-sref="profile.env.create">新增</button></td>
    <h1 class="pull-left m0">环境管理</h1>
</div>

<div class="table-responsive">
    <table class="table table-striped table-hover table-fixed">
        <thead>
            <tr>
                <th width="15%">环境</th>
                <th width="10%">级别</th>
                <th width="10%">锁定?</th>
                <th width="15%">脚本版本</th>
                <th width="20%">ip范围</th>
                <th width="20%">备注</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="env in envs">
                <td><a tooltip="{{env.name}}" ui-sref="profile.env.detail({id: env.id})">{{env.name}}</a></td>
                <td>
                    <span tooltip="{{env.level | level}}">{{env.level | level}}
                    <sup><i ng-if="env.level == 'safe'" class="star"></i></sup></span>
                </td>
                <td>
                    <i tooltip="锁定" ng-if="env.locked" class="fa fa-lock"></i>
                    <i tooltip="正常" ng-if="!env.locked" class="fa fa-unlock"></i>
                </td>
                <td><span tooltip="{{env.scriptVersion}}">{{env.scriptVersion}}</span></td>
                <td><span tooltip="{{env.ipRange}}">{{env.ipRange}}</span></td>
                <td><span tooltip="{{env.remark}}">{{env.remark}}</span></td>
                <td ng-if="env.id" has-env-safe="{{env.id}}" ng-show="hasEnvSafe_">
                    <a ui-sref="profile.env.edit({id: env.id})" title="修改"><span class="glyphicon glyphicon-edit"></span></a>
                    <a ng-click="delete(env.id, $index)" href="" title="删除"><span class="glyphicon glyphicon-remove"></span></a>
                </td>
            </tr>
        </tbody>
    </table>
</div>